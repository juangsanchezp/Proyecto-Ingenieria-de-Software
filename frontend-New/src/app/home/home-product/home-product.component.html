
<!--La parte de router Links es el que redirecciona a la vista de cada producto-->
<a [routerLink]="['/productos',producto().id]" class="max-w-sm w-full bg-white rounded-lg shadow-md border border-gray-300 overflow-hidden hover:shadow-lg transition-shadow duration-300 flex flex-col
transition-transform hover:scale-105">
  <!-- Imagen del producto -->
  <img
    class="w-full h-48 object-cover rounded-t-lg"
    [src]="producto().imagenUrl"
    [alt]="producto().nombreProducto"
    loading="lazy"
  />

  <!-- Contenido textual -->
  <div class="p-6 flex flex-col flex-grow">
    <!-- Nombre del producto -->
    <h3 class="text-xl font-semibold text-gray-900 hover:text-blue-600 transition-colors cursor-pointer">
      {{ producto().nombreProducto }}
    </h3>

    <!-- Categoría -->
    <p class="text-sm text-gray-500 mt-1 uppercase tracking-wide font-medium">
      {{ producto().categoria }}
    </p>

    <!-- Implementar usuario -->


    <!-- Descripción (limitar texto a 3 líneas con utilería CSS) -->
    <p class="text-gray-700 mt-3 line-clamp-3 flex-grow">
      {{ producto().descripcion }}
    </p>

    <!-- Precio -->
    <div class="mt-4">
      <span class="text-2xl font-bold text-green-600">
        ${{ producto().precio.toFixed(2) }}
      </span>
    </div>

    <!-- ... contenido anterior ... -->

    <!-- Botones -->
    <div class=" mt-4 flex gap-2">

      <!-- Agregar al Carrito -->
      <button *ngIf="!productoPropio()"
              (click)="agregarAlCarrito(); $event.stopPropagation(); $event.preventDefault();"
        [disabled]="producto().cantidadDisponible <= 0"
        class="flex-1 bg-blue-600 text-white font-semibold py-2 rounded-lg hover:bg-blue-700 transition-colors duration-300 disabled:bg-gray-400">
        Agregar al Carrito
      </button>

      <!-- Ver detalles -->
      <a
        [routerLink]="['/productos', producto().id]"
        class="  flex-1 text-center bg-gray-200 text-gray-800 font-semibold py-2 rounded-lg hover:bg-gray-300 transition-colors duration-300">
        Ver detalles
      </a>
    </div>

    <!-- Mensaje de éxito -->
    @if (mensaje() && mensaje().includes('✅')) {
    <p class="text-green-600 text-sm mt-4 text-center">
    {{ mensaje() }}
    </p>
    }

    <!-- Mensaje de error -->
    @if (mensaje() && mensaje().includes('❌')) {
    <p class="text-red-600 text-sm mt-2 text-center">
    {{ mensaje() }}
    </p>
    }

  </div>
</a>
